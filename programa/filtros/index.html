<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>filtros.c - Projeto ITP</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  <link href="../../css/extra_css.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "filtros.c";
    var mkdocs_page_input_path = "programa/filtros.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Projeto ITP</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="../..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Programa</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../funcoes/">funcoes.h</a>
                </li>
                <li class="">
                    
    <a class="" href="../arquivo/">arquivo.c</a>
                </li>
                <li class=" current">
                    
    <a class="current" href="./">filtros.c</a>
    <ul class="subnav">
            
    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../rotacionar/">rotacionar.c</a>
                </li>
                <li class="">
                    
    <a class="" href="../tamanho/">tamanho.c</a>
                </li>
                <li class="">
                    
    <a class="" href="../main/">main</a>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Projeto ITP</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Programa &raquo;</li>
        
      
    
    <li>filtros.c</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;
#include &lt;math.h&gt;
#include &quot;funcoes.h&quot;  
</code></pre>

<hr />
<pre><code>//funcao para aumentar a escala da imagem, pegando um pixel e aumentando o mesmo para quatro  
//pixel
</code></pre>
<pre><code>Imagem* sharp(Imagem *original) {    
        printf(&quot;Aplicando a mascara...\n&quot;);  
        int x, y;  
        int x1, y1, x2, y2, x3, y3, x4, y4, x5, y5, x6, y6, x7, y7, x8, y8, x9, y9;  
        int kernel[3][3] = {  
          { 0, -1,  0},  
          {-1,  5, -1},  
          { 0, -1,  0}  
        };

        int h = original-&gt;alt , w = original-&gt;larg;  
        Imagem *imgBlur = novaImagem(w, h, original-&gt;maxCor);  

        for (y = 1; y &lt; h-1; y++) {  
          for (x = 1; x &lt; w-1; x++) {  
              y1 = y-1;   x1 = x-1;  
              y2 = y-1;   x2 = x;  
              y3 = y-1;   x3 = x+1;  
              y4 = y;     x4 = x-1;  
              y5 = y;     x5 = x; // central  
              y6 = y;     x6 = x+1;  
              y7 = y+1;   x7 = x-1;  
              y8 = y+1;   x8 = x;  
              y9 = y+1;   x9 = x+1;  

            struct Pixel *p1 = pixelImagem(original, y1, x1);  
            struct Pixel *p2 = pixelImagem(original, y2, x2);  
            struct Pixel *p3 = pixelImagem(original, y3, x3);  
            struct Pixel *p4 = pixelImagem(original, y4, x4);  
            struct Pixel *p5 = pixelImagem(original, y5, x5); //central  
            struct Pixel *p6 = pixelImagem(original, y6, x6);  
            struct Pixel *p7 = pixelImagem(original, y7, x7);  
            struct Pixel *p8 = pixelImagem(original, y8, x8);  
            struct Pixel *p9 = pixelImagem(original, y9, x9);  

            struct Pixel *p = pixelImagem(imgBlur, y, x);  

            p-&gt;r =  
            p1-&gt;r * kernel[0][0] + p2-&gt;r * kernel[0][1] + p3-&gt;r * kernel[0][2] +  
            p4-&gt;r * kernel[1][0] + p5-&gt;r * kernel[1][1] + p6-&gt;r * kernel[1][2] +  
            p7-&gt;r * kernel[2][0] + p8-&gt;r * kernel[2][1] + p9-&gt;r * kernel[2][2];  

            p-&gt;g =  
            p1-&gt;g * kernel[0][0] + p2-&gt;g * kernel[0][1] + p3-&gt;g * kernel[0][2] +  
            p4-&gt;g * kernel[1][0] + p5-&gt;g * kernel[1][1] + p6-&gt;g * kernel[1][2] +  
            p7-&gt;g * kernel[2][0] + p8-&gt;g * kernel[2][1] + p9-&gt;g * kernel[2][2];  

            p-&gt;b =  
            p1-&gt;b * kernel[0][0] + p2-&gt;b * kernel[0][1] + p3-&gt;b * kernel[0][2] +  
            p4-&gt;b * kernel[1][0] + p5-&gt;b * kernel[1][1] + p6-&gt;b * kernel[1][2] +  
            p7-&gt;b * kernel[2][0] + p8-&gt;b * kernel[2][1] + p9-&gt;b * kernel[2][2];  
          }
      }
      return imgBlur;
}
</code></pre>

<hr />
<pre><code>//funcao para aumentar escala da imagem, pegando um pixel e
//aumentando o mesmo para quatro pixel
</code></pre>
<pre><code>Imagem* blur(Imagem *original) {  
    printf(&quot;Aplicando a mascara...\n&quot;);  
    int x, y;  
    int x1, y1, x2, y2, x3, y3, x4, y4, x5, y5, x6, y6, x7, y7, x8, y8, x9, y9;  
    double kernelBlur = 0.111111;  
    int h = original-&gt;alt , w = original-&gt;larg;  

    Imagem *imgBlur = novaImagem(w, h, original-&gt;maxCor);  

    imgBlur = original;  

    for (y = 1; y &lt; h-1; y++) {  
        for (x = 1; x &lt; w-1; x++) {  

            y1 = y-1;   x1 = x-1;  
            y2 = y-1;   x2 = x;  
            y3 = y-1;   x3 = x+1;
            y4 = y;     x4 = x-1;
            y5 = y;     x5 = x; // central
            y6 = y;     x6 = x+1;
            y7 = y+1;   x7 = x-1;
            y8 = y+1;   x8 = x;
            y9 = y+1;   x9 = x+1;

            struct Pixel *p1 = pixelImagem(original, y1, x1);
            struct Pixel *p2 = pixelImagem(original, y2, x2);
            struct Pixel *p3 = pixelImagem(original, y3, x3);
            struct Pixel *p4 = pixelImagem(original, y4, x4);
            struct Pixel *p5 = pixelImagem(original, y5, x5);
            struct Pixel *p6 = pixelImagem(original, y6, x6);
            struct Pixel *p7 = pixelImagem(original, y7, x7);
            struct Pixel *p8 = pixelImagem(original, y8, x8);
            struct Pixel *p9 = pixelImagem(original, y9, x9);

            struct Pixel *p = pixelImagem(imgBlur, y, x);

            p-&gt;r =
            (int)(p1-&gt;r * kernelBlur) + (int)(p2-&gt;r * kernelBlur) + (int)(p3-&gt;r * kernelBlur) +
            (int)(p4-&gt;r * kernelBlur) + (int)(p5-&gt;r * kernelBlur) + (int)(p6-&gt;r * kernelBlur) +
            (int)(p7-&gt;r * kernelBlur) + (int)(p8-&gt;r * kernelBlur) + (int)(p9-&gt;r * kernelBlur);


            p-&gt;g =
            (int)(p1-&gt;g * kernelBlur) + (int)(p2-&gt;g * kernelBlur) + (int)(p3-&gt;g * kernelBlur) +
            (int)(p4-&gt;g * kernelBlur) + (int)(p5-&gt;g * kernelBlur) + (int)(p6-&gt;g * kernelBlur) +
            (int)(p7-&gt;g * kernelBlur) + (int)(p8-&gt;g * kernelBlur) + (int)(p9-&gt;g * kernelBlur);

            p-&gt;b =
            (int)(p1-&gt;b * kernelBlur) + (int)(p2-&gt;b * kernelBlur) + (int)(p3-&gt;b * kernelBlur) +
            (int)(p4-&gt;b * kernelBlur) + (int)(p5-&gt;b * kernelBlur) + (int)(p6-&gt;b * kernelBlur) +
            (int)(p7-&gt;b * kernelBlur) + (int)(p8-&gt;b * kernelBlur) + (int)(p9-&gt;b * kernelBlur);

        }
    }
    return imgBlur;
}
</code></pre>

<hr />
<pre><code>//funcao para binarizar imagem, utilizando metodo aonde compara o valor
//limiar com a escala de cinza, se a escala de cinza for menor que o limiar
//o valor eh 0 (preto) se for maior eh branco (255)
</code></pre>
<pre><code>Imagem* binarizar(Imagem *original, int limiar) {
    printf(&quot;Aplicando a mascara...\n&quot;);
    int x, y, gray;
    int h = original-&gt;alt, w = original-&gt;larg;
    Imagem *imgBinarizada = novaImagem(w, h, original-&gt;maxCor);

    for (y = 0; y &lt; h; y++) {
        for (x = 0; x &lt; w; x++) {
            struct Pixel *p1 = pixelImagem(original, y, x);
            struct Pixel *p2 = pixelImagem(imgBinarizada, y, x);

            gray = p1-&gt;r*0.3+p1-&gt;g*0.59+p1-&gt;b*0.11;

            if(gray &lt; limiar) {
                p2-&gt;r = p2-&gt;g = p2-&gt;b = 0;
            } else {
                p2-&gt;r = p2-&gt;g = p2-&gt;b = 255;
            }
        }
    }
    return imgBinarizada;
}
</code></pre>

<hr />
<pre><code>//funcao para colocar em cinza, metodo soma rgb/3
</code></pre>
<hr />
<pre><code>Imagem* escalaCinza(Imagem *original) {
    printf(&quot;Aplicando a mascara...\n&quot;);
    int x, y, gray;
    int h = original-&gt;alt, w = original-&gt;larg;
    Imagem *imgCinza = novaImagem(w, h, original-&gt;maxCor);
    for (y = 0; y &lt; h; y++) {
        for (x = 0; x &lt; w; x++) {
            struct Pixel *p1 = pixelImagem(original, y, x);
            struct Pixel *p2 = pixelImagem(imgCinza, y, x);

            gray = (p1-&gt;r*0.3)+(p1-&gt;g*0.59)+(p1-&gt;b*0.11);

            p2-&gt;r = gray;
            p2-&gt;g = gray;
            p2-&gt;b = gray;
        }
    }
    return imgCinza;
}
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../rotacionar/" class="btn btn-neutral float-right" title="rotacionar.c">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../arquivo/" class="btn btn-neutral" title="arquivo.c"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../arquivo/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../rotacionar/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>

</body>
</html>
